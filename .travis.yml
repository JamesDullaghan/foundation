language: node_js
node_js:
  - "0.10"

branches:
  only:
    - 5.0-wip
# remove?

# env:
#   - GITHUB_USERNAME=JamesDullaghan
#   - FOUNDATION_REPO=git@github.com:[GITHUB_USERNAME]/foundation.git
#   - FOUNDATION_BOWER_REPO=git@github.com:[GITHUB_USERNAME]/bower-foundation-css.git
#   - FOUNDATION_BOWER_PROJECT=bower-foundation-css

# http://stackoverflow.com/questions/16638573/auto-authorize-ssh-auth-requests-on-travis-ci
# Sets strict host checking to no in ssh/config
before_script:
  - echo -e "Host github.com\n\tStrictHostKeyChecking no\n" >> ~/.ssh/config
  - "git clone https://github.com/JamesDullaghan/bower-foundation-css.git"

script:
  - "npm install grunt"
  - "npm install grunt-cli"
  - "grunt compile"

after_script:
  - echo -e "pwd is: `pwd`"
  - "cd /dist"
  - "cp /dist/assets /bower-foundation-css"
  - "cd ~/bower-foundation-css"
  - "git add ."
  - "git commit"
  - "git push origin master"